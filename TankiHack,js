//gui
TPspeed = 100
root = document.querySelector("#root")
stateWindow = document.createElement("div")
stateWindow_style={
    display: "flex",
    backgroundColor: "black",
    height:"55%",
    width:"17%",
    position:"absolute",
    opacity: "0.55",
    left:"50%",
    right:"50%",
    transform:"translate(-50%,-50%)",
    borderRadius:"20px",
    borderBottom:"1px solid black",
    borderLeft:"1px solid black",
    borderTop:"1px solid black",
    borderRight:"1px solid black",
    borderWidth:"3px"
}
stateWindow.style.outline = "1px solid red"
//Object.assign():
Object.assign(stateWindow.style,stateWindow_style);
root.appendChild(stateWindow)

function draggable(el) {
  el.addEventListener('mousedown', function(e) {
    var offsetX = e.clientX - parseInt(window.getComputedStyle(this).left);
    var offsetY = e.clientY - parseInt(window.getComputedStyle(this).top);
    
    function mouseMoveHandler(e) {
      el.style.top = (e.clientY - offsetY) + 'px';
      el.style.left = (e.clientX - offsetX) + 'px';
    }

    function reset() {
      window.removeEventListener('mousemove', mouseMoveHandler);
      window.removeEventListener('mouseup', reset);
    }

    window.addEventListener('mousemove', mouseMoveHandler);
    window.addEventListener('mouseup', reset);
  });
}

draggable(stateWindow)


title = document.createElement("span")
title.innerText = "State"
stateWindow.appendChild(title)

title_style = {

color:"white",
textAlign:"center",
fontSize : "23px",
padding: "23px 35%",
   


    
}



Object.assign(title.style,title_style)




Sautoclick = document.createElement("span")
Sairwalk = document.createElement("span")
Srandomtp = document.createElement("span")
Sgoldtp = document.createElement("span")


label_style = {
position:"absolute",
fontSize:"18px",
padding:"23px 10%",
color:"white",
  
}

Object.assign(Sautoclick.style,label_style)
Object.assign(Sairwalk.style,label_style)
Object.assign(Srandomtp.style,label_style)
Object.assign(Sgoldtp.style,label_style)

Sautoclick.innerText = "Autoclicker:"
Sairwalk.innerText = "Airwalk:"
Srandomtp.innerText = "RandomTP:"
Sgoldtp.innerText = "GoldTP:"


Sautoclick.style.bottom = "64%"
Sairwalk.style.bottom = "50%"
Srandomtp.style.bottom = "36%"
Sgoldtp.style.bottom = "22%"

stateWindow.appendChild(Sautoclick)
stateWindow.appendChild(Sairwalk)
stateWindow.appendChild(Srandomtp)
stateWindow.appendChild(Sgoldtp)




onOff_style = {
position:"absolute",
fontSize:"18px",
padding:"23px 10%",
color:"red",
right:"0%"
  
}


State1 = document.createElement("span")
State2 = document.createElement("span")
State3 = document.createElement("span")
State4 = document.createElement("span")




Object.assign(State1.style,onOff_style)
Object.assign(State2.style,onOff_style)
Object.assign(State3.style,onOff_style)
Object.assign(State4.style,onOff_style)






State1.innerText = "OFF"
State2.innerText = "OFF"
State3.innerText = "OFF"
State4.innerText = "OFF"






stateWindow.appendChild(State1)
stateWindow.appendChild(State2)
stateWindow.appendChild(State3)
stateWindow.appendChild(State4)




State1.style.bottom = "64%"
State2.style.bottom = "50%"
State3.style.bottom = "36%"
State4.style.bottom = "22%"



tps = document.createElement("span")


plusButton = document.createElement("button")
minusButton = document.createElement("button")

tps.innerText = TPspeed

tps.style.position = "absolute"
tps.style.color = "white"
tps.style.bottom = "10%"
tps.style.right = "46%"
tps.style.fontSize = "18px"

stateWindow.appendChild(tps)


pmb_style = {
width: '35px',
height: '25px',
position: 'absolute',
borderRadius: '100px',
bottom: '10%',
}




Object.assign(plusButton.style,pmb_style)
Object.assign(minusButton.style,pmb_style)

minusButton.style.backgroundColor="red"
plusButton.style.backgroundColor="green"


minusButton.style.left = "14%"
plusButton.style.right = "14%"

stateWindow.appendChild(plusButton)
stateWindow.appendChild(minusButton)

pSign = document.createElement("span")
mSign = document.createElement("span")

pSign.innerText = "+"
mSign.innerText = "-"


plusButton.appendChild(pSign)
minusButton.appendChild(mSign)





plusButton.addEventListener("click",function(){

tps.innerText = parseInt(tps.innerText) +20

  
})
minusButton.addEventListener("click",function(){

tps.innerText =  parseInt(tps.innerText) -20

  
})

root.removeChild(stateWindow)
//gui end





class commons{
getRoot = null
getReactRoot = null
getChatState = null 
searchObject = null
getRandom = null
}


class game{
getTankPhysics = null
getTank = null  
getWorld = null  
getMines = null
getFlags = null
getPlayers = null
getMapBoundary = null    
getBattleState = null
getSupplies = null
getHealth = null
getStriker = null
getCamera = null
getAirwalk = null
}


class hacks{
airWalk = null
clicker = null
flagTP = null
oneHitKill = null
noLaser = null
autoHeal = null
simpleTP = null
playerTP = null
rapidUpdate = null
randomTP = null
TPFlagB = null
TPFlagB = null
goldTP = null
speedhack = null


}

class vars{
FlagA = null
FlagB = null
target = null
tpName = null  
rocketCount = null
shellCache = null
  
  
}




commons.searchObject = function(object,item){
try {
for(let i=0; i<object.length;i++){
if(object[i].hasOwnProperty(item))
return object[i]

}      
} catch (error) {
    
}  
}


 function sleep(ms){
    return new Promise(resolve => setTimeout(resolve, ms));
}



commons.getRoot = function(){
root = document.querySelector("#root")  
return root
}

commons.getReactRoot = function(){
return root._reactRootContainer._internalRoot.current.memoizedState.element.type.prototype.store.subscribers.array_hd7ov6$_0  
  
}



commons.getRandom = function(min,max){
return Math.floor(Math.random() * (max - min + 1) + min)
  
  
}

//keypressing


class KeyPressing{static k=[];static i(){document.addEventListener('keydown',(e)=>{const c=e.keyCode;if(KeyPressing.k.includes(c)==!1){KeyPressing.k.push(c)}}); document.addEventListener('keyup',(e)=>{const c=e.keyCode;if(KeyPressing.k.includes(c)==!0){const a=KeyPressing.k.indexOf(c);if(a!==-1){KeyPressing.k.splice(a,1)}}})} static isKeyPressed(c){return KeyPressing.k.includes(c)}}KeyPressing.i()




//GAME ITEMS



game.getTank = function(){
return commons.searchObject(commons.getReactRoot(),"tank").tank

  
  
  
}

game.getWorld = function(){
return game.getTank().world  
  
}

game.getMines = function(){
return game.getWorld().entities_0.array_hd7ov6$_0.at(0).components_0.array.at(15);  
  
  
  
}

game.getMapBoundary = function(){
return game.getWorld().entities_0.array_hd7ov6$_0.at(0).components_0.array.at(0).bounds
}


game.getPlayers = function(){
return game.getTank().components_0.array[33].gameMode_0.tanksOnField
  
}
game.getBattleState = function(){
  
return commons.getReactRoot().at(1).state.inBattle
}

commons.getChatState = function(){
return document.querySelector(".sc-bwzfXH.iokmvL")
}


game.getStriker = function(){
return commons.searchObject(game.getTank().components_0.array,"strikerWeapon_jjsiik$_0").strikerWeapon_jjsiik$_0
  
  
  
  
}


game.getHealth = function(){
return game.getTank().components_0.array[1].isFullHealth()
  
  
}

game.getTankPhysics = function(){
return game.getTank().components_0.array[5].tankPhysicsComponent_tczrao$_0
  
  
  
}

game.getCamera = function(){
for (let i = 0; i < game.getTank().components_0.array.length; i++)
  {
    if(game.getTank().components_0.array[i].hasOwnProperty("followCamera_w8ai3w$_0"))
    return game.getTank().components_0.array[i].followCamera_0.currState_0
    
  }
}


game.getFlags = function(){
try {
if(game.getWorld().triggers_0.triggers_0.array[0].flagBaseTriggerListener_0.flags_0.internalMap_uxhen5$_0.backingMap_0[1]._value_0.teamType.name == "TEAM_A"){
vars.FlagA = game.getWorld().triggers_0.triggers_0.array[0].flagBaseTriggerListener_0.flags_0.internalMap_uxhen5$_0.backingMap_0[1]._value_0.getPosition()

vars.FlagB = game.getWorld().triggers_0.triggers_0.array[0].flagBaseTriggerListener_0.flags_0.internalMap_uxhen5$_0.backingMap_0[0]._value_0.getPosition()

    
}    
} catch (error) {
    
}}





game.getAirwalk = function(){
return commons.searchObject(game.getTank().components_0.array,"trackedChassis_eytv59$_0").trackedChassis_eytv59$_0  
  
}



game.getSupplies = function(supply){
try {
for(key in game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0){
if(game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[key].key_5xhq3d$_0.name$ == supply){
return key 
}


}    
} catch (error) {
    
}  
  

}

function getSupplyArrays(){
try {
window.mines = game.getSupplies("MINE")  
window.repairs = game.getSupplies("FIRST_AID")
window.DA = game.getSupplies("DOUBLE_ARMOR")
window.DD = game.getSupplies("DOUBLE_DAMAGE")
window.NITRO = game.getSupplies("NITRO")  
    
} catch (error) {
    
}
}

supps = setInterval(getSupplyArrays,500)




//HACKS

hacks.speedhack = function(){
try{
game.getTank().components_0.array[14].chassisLocker_kjqurp$_0.chassis_x8422y$_0.maxSpeedSmoother_fqgjkx$_0.currentValue_58o4vw$_0 = 15000
game.getTank().components_0.array[14].chassisLocker_kjqurp$_0.chassis_x8422y$_0.maxSpeedSmoother_fqgjkx$_0.targetValue_mmhheo$_0 = 15000
game.getAirwalk().speedCharacteristics_0.acceleration = 8000
 
}catch (error) {
 return Error
}

}






function simpleTP()

 {


 
 
 
 if (KeyPressing.isKeyPressed(87 /*key: W*/) && commons.getChatState()==null)
    {
       

        
            
            game.getTankPhysics().body.state.position.x += TPspeed * Math.sin(-game.getCamera().direction);
            game.getTankPhysics().body.state.position.y += TPspeed * Math.cos(-game.getCamera().direction);
        
    }

    if (KeyPressing.isKeyPressed(83 /*key: S*/) && commons.getChatState()==null)
    {
        
        game.getTankPhysics().body.state.position.x -= TPspeed * Math.sin(-game.getCamera().direction);
            game.getTankPhysics().body.state.position.y -= TPspeed * Math.cos(-game.getCamera().direction);
    }

    if (KeyPressing.isKeyPressed(65 /*key: A*/) && commons.getChatState()==null)
    {
        

       
           

            game.getTankPhysics().body.state.position.x -= TPspeed * Math.sin(-(game.getCamera().direction - Math.PI / 2));
            game.getTankPhysics().body.state.position.y -= TPspeed * Math.cos(-(game.getCamera().direction - Math.PI / 2));
        
    }

    if (KeyPressing.isKeyPressed(68 /*key: D*/) && commons.getChatState()==null)
    {
        

       
            game.getTankPhysics().body.state.position.x +=TPspeed * Math.sin(-(game.getCamera().direction - Math.PI / 2));
            game.getTankPhysics().body.state.position.y += TPspeed * Math.cos(-(game.getCamera().direction - Math.PI / 2));
        
    }
   
   if (KeyPressing.isKeyPressed(74 /*key: J*/) && commons.getChatState()==null)
    {
        

       
            game.getTankPhysics().body.state.position.z+=100
        
    }

   
   if (KeyPressing.isKeyPressed(75 /*key: K*/) && commons.getChatState()==null)
    {
        

       
            game.getTankPhysics().body.state.position.z-=100
        
    }
   
   
   
   
   

}



let ckp = setInterval(simpleTP,10)



hacks.clicker = function(){ 
try {
game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[mines]._value_0._value_0.onUserActivatedSupply() 
game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[repairs]._value_0._value_0.onUserActivatedSupply() 
game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[DD]._value_0._value_0.onUserActivatedSupply() 
game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[DA]._value_0._value_0.onUserActivatedSupply() 
game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[NITRO]._value_0._value_0.onUserActivatedSupply() 

    
} catch (error) {
    
} 


}



hacks.autoHeal = function(){
try {
if(game.getHealth()==false){
game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[mines]._value_0._value_0.onUserActivatedSupply() 
game.getTank().components_0.array[27].supplyTypeConfigs_0.entries.$outer.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[repairs]._value_0._value_0.onUserActivatedSupply() 

  
}  
      
} catch (error) {
    
}

  
}



autoR = setInterval(hacks.autoHeal,1)


hacks.rapidUpdate = function(){
                      
try {
   game.getTank().components_0.array[37].needImmediateUpdate_0  = true  
} catch (error) {
     
 }}
let ru = setInterval(hacks.rapidUpdate,10)


hacks.TPFlagA = function(){
if(commons.getChatState()==null){
game.getTankPhysics().body_xsop3k$_0.state.position.x = vars.FlagA.x
game.getTankPhysics().body_xsop3k$_0.state.position.y = vars.FlagA.y
game.getTankPhysics().body_xsop3k$_0.state.position.z = vars.FlagA.z
}
}


hacks.TPFlagB = function(){
if(commons.getChatState()==null){  
game.getTankPhysics().body_xsop3k$_0.state.position.x = vars.FlagB.x
game.getTankPhysics().body_xsop3k$_0.state.position.y = vars.FlagB.y
game.getTankPhysics().body_xsop3k$_0.state.position.z = vars.FlagB.z
}
}

function getNames(){
try {
Table = document.getElementsByTagName("table")
cName = Table[0].children[1].children[1].children[0].className
tElems = document.getElementsByClassName(cName)  
for(let i=0;i<tElems.length;i++){
tElems[i].addEventListener("click",function(){
splitArray = (tElems[i].innerText).split("]") 
if(splitArray.length == 1){
tpName = (tElems[i].innerText).trim()
}
if(splitArray.length == 2){
tpName = (splitArray[1]).trim()
}  
  
  
  
  
})  
}
} catch (error) {
    
}
}




let gn = setInterval(getNames,100)






function tpByName(){
try {
for (key in commons.searchObject(commons.getReactRoot(),"tank").store_0.state.battleUsers.uids.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0){
if (commons.searchObject(commons.getReactRoot(),"tank").store_0.state.battleUsers.uids.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[key]._value_0._value_0 == tpName){
tpUserID = commons.searchObject(commons.getReactRoot(),"tank").store_0.state.battleUsers.uids.map_97q5dv$_0.internalMap_uxhen5$_0.backingMap_0[key].key_5xhq3d$_0
}


}
    
} catch (error) {
    
}  




}

setInterval(tpByName,300)


hacks.playerTP = function(){
if(commons.getChatState()==null){ 
try {
game.getTank().components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.x = game.getPlayers().getTank_s8cxhz$(tpUserID).components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.x
game.getTank().components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.y = game.getPlayers().getTank_s8cxhz$(tpUserID).components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.y
game.getTank().components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.z = game.getPlayers().getTank_s8cxhz$(tpUserID).components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.z+120
    
} catch (error) {
    
}
}
}


hacks.randomTP = function(){
try {
game.getTank().components_0.array[5].tankPhysicsComponent_0.interpolatedPosition.x = commons.getRandom(game.getMapBoundary().minX,game.getMapBoundary().maxX)
game.getTank().components_0.array[5].tankPhysicsComponent_0.interpolatedPosition.y = commons.getRandom(game.getMapBoundary().minY,game.getMapBoundary().maxY)
} catch (error) {
  
}  
  
}


 
hacks.airWalk = function(){
game.getAirwalk().params_nd1j3b$_0.maxRayLength = 11111111  
game.getAirwalk().params_nd1j3b$_0.dampingCoeff = 0
game.getAirwalk().params_nd1j3b$_0.springCoeff= 0
  
  
}


function unAim(){

game.getStriker().lockTarget_gcez93$ = function(){return !1-!0}
    
}

function Aim(){

game.getStriker().lockTarget_gcez93$ =function(t,e,n){return void 0===e&&(e=null),n?n(t,e):this.lockTarget_gcez93$$default(t,e)}
    
}






function ap(){for (let i = 0; i < vars.shellCache.length; i++)
                            {
                                vars.shellCache.at(i).components_0.array.at(1).maxSpeed_0 = 0;
                                vars.shellCache.at(i).components_0.array.at(1).minSpeed_0 = 0;
                            }}


function apm(){for (let i = 0; i < vars.shellCache.length; i++)
                            {
                                vars.shellCache.at(i).components_0.array.at(1).maxSpeed_0 = 35000;
                                vars.shellCache.at(i).components_0.array.at(1).minSpeed_0 = 2000;
                            }}
rocketCount = 0

hacks.oneHitKill = function(){
try {
vars.shellCache = commons.searchObject(game.getTank().components_0.array,"shellCache_0").shellCache_0.itemsInUse_123ot1$_0.array_hd7ov6$_0


game.getStriker().sendRealShotMessage_0 = async function(){
this.realShotMessage_0.barrelIndex=this.currentBarrel_0,this.entity.send_il80ix$(this.realShotMessage_0)  
Aim()
rocketCount++
ap()
if(rocketCount==8){
  
await sleep(900)
apm()
rocketCount = 0
  
}
  
  
  
  
}  

  
  
  
  
} catch (error) {
    
}  
  
  
  
  
  
  
  
}


let ohkr = setInterval(hacks.oneHitKill,100)






hacks.goldTP = function(){
if(commons.getChatState()==null){
for(let i =0;i<game.getWorld().triggers_0.triggers_0.array.length;i++){try {
if(game.getWorld().triggers_0.triggers_0.array[i].bonus_0.bonusData_cqilaj$_0.bonusLight.lightColor.color==16777215){    
game.getTank().components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.x = game.getWorld().triggers_0.triggers_0.array[i].collisionBox_0.aabb.minX
game.getTank().components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.y = game.getWorld().triggers_0.triggers_0.array[i].collisionBox_0.aabb.minY
game.getTank().components_0.array[5].tankPhysicsComponent_tczrao$_0.body_xsop3k$_0.state.position.z = game.getWorld().triggers_0.triggers_0.array[i].collisionBox_0.aabb.minZ+150
}     
} catch (error) {
    
}}


}

}


function noZVelocity(){


try {
game.getTankPhysics().body_xsop3k$_0.state.velocity.z = 0
game.getWorld().physicsScene_0.gravity.z  = 0

} catch (error) {
    
}
    
}




function tpDown(){
if(commons.getChatState()==null){
game.getTankPhysics().body_xsop3k$_0.state.position.z-=500
}
}






















//event listeners


ACpressCount = 0
document.addEventListener('keydown', function (event) { if (event.key === 'End'){
ACpressCount ++
if(ACpressCount%2==1){
window.p = setInterval(hacks.clicker,25)
State1.innerText = "ON"
State1.style.color = "green"   
}

if(ACpressCount%2==0){

clearInterval(window.p)
State1.innerText = "OFF"
State1.style.color = "red"   
}


}})



FpressCount = 0
document.addEventListener('keydown', function (event) { if (event.key === 'Home'){
FpressCount ++
if(FpressCount%2==1){
window.fakeR = setInterval(hacks.randomTP,1)
State3.innerText = "ON"
State3.style.color = "green"   
}

if(FpressCount%2==0){

clearInterval(window.fakeR)
State3.innerText = "OFF"
State3.style.color = "red"
}


}})










FlpressCount = 0
document.addEventListener('keydown', function (event) { if (event.key === 'n'){
FlpressCount ++
game.getFlags()
if(FlpressCount%2==1){
hacks.TPFlagA()
   
}

if(FlpressCount%2==0){

hacks.TPFlagB()   
}


}})
AWpressCount = 0
document.addEventListener('keydown', function (event) { if (event.key === ']'){
AWpressCount ++
if(AWpressCount%2==1){
hacks.airWalk()
window.rgt = game.getWorld().physicsScene_0.gravity.z 
window.NZR = setInterval(noZVelocity,1) 
State2.innerText = "ON"
State2.style.color = "green"
window.speed = setInterval(hacks.speedhack,1500)


}

if(AWpressCount%2==0){
game.getAirwalk().params_nd1j3b$_0.maxRayLength = 50 
game.getAirwalk().params_nd1j3b$_0.dampingCoeff = 2000
game.getAirwalk().params_nd1j3b$_0.springCoeff= 16000
game.getTankPhysics().body_xsop3k$_0.state.velocity.z = -1.3
game.getTankPhysics().body_xsop3k$_0.scene.gravity.z = rgt
clearInterval(window.NZR)
State2.innerText = "OFF"
State2.style.color = "red"
clearInterval(window.speed)
  
   
}


}})

  
GpressCount = 0
document.addEventListener('keydown', function (event) { if (event.key === '['){
GpressCount ++
if(GpressCount%2==1){
window.gg = setInterval(hacks.goldTP,1)
State4.innerText = "ON"
State4.style.color = "green"


   
}

if(GpressCount%2==0){

clearInterval(window.gg)
State4.innerText = "OFF"
State4.style.color = "red"

   
}


}})



WpressCount = 0
document.addEventListener('keydown', function (event) { if (event.key === 'F10'){
WpressCount ++
if(WpressCount%2==1){
root.appendChild(stateWindow)

   
}

if(WpressCount%2==0){

root.removeChild(stateWindow)
   
}


}})

  
  
  
  
  
  
  
  
  
  
 
 
document.addEventListener('keydown',   function (event) { if (event.key === 'r'){unAim()}})

document.addEventListener('keydown',   function (event) { if (event.key === 'f'){tpDown()}})

document.addEventListener('keydown',  window.tpS = function (event) { if (event.key === 'v'){hacks.playerTP()}})


